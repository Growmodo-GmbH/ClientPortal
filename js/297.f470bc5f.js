"use strict";(globalThis["webpackChunkgrowmodo_hub"]=globalThis["webpackChunkgrowmodo_hub"]||[]).push([[297],{3297:(e,s,l)=>{l.r(s),l.d(s,{default:()=>ae});l(702);var t=l(9835),a=l(6970);const o={class:"font-medium text-h5"},r=(0,t._)("div",{class:"q-pt-md"},[(0,t._)("span",{class:"text-secondary font-medium"},"Click to upload"),(0,t.Uk)(" or drag and drop ")],-1),i=(0,t._)("div",null,"SVG, PNG, JPG or GIF (max. 5MB)",-1),n=["src"],d=(0,t.Uk)(" Attached files "),c=(0,t._)("div",{class:"text-body2 font-normal color-primary2 q-pt-xs"}," Files and assets that have been attached to this project. ",-1),p={class:"col-12 col-sm-6"},m=(0,t._)("span",{class:"q-pl-sm text-body2 font-medium"},"View All",-1),u=(0,t._)("span",{class:"q-pl-sm text-body2 font-medium"},"Your Files",-1),g=(0,t._)("span",{class:"q-pl-sm text-body2 font-medium"},"Shared Files",-1),f={class:"col-12 col-sm-6"},_={class:"text-body2 font-medium color-primary2"},y={class:"q-gutter-sm text-right"},w={key:0,class:"q-py-md row full-width items-center justify-center q-col-gutter-sm q-virtual-scroll--skip"},h={class:"q-py-md row full-width items-center justify-between q-col-gutter-sm q-virtual-scroll--skip"},b=(0,t._)("span",{class:"q-pl-sm"},"Previous",-1),x=(0,t._)("span",{class:"q-pr-sm"},"Next",-1),q={class:"q-py-md full-width row flex-center color-primary2 q-gutter-sm"},v={class:"text-body2 color-primary2 font-medium"};function k(e,s,l,k,W,C){const F=(0,t.up)("q-toolbar-title"),Z=(0,t.up)("q-toolbar"),z=(0,t.up)("q-card"),Q=(0,t.up)("CardIconBox"),U=(0,t.up)("q-uploader-add-trigger"),$=(0,t.up)("q-btn"),j=(0,t.up)("q-item-label"),I=(0,t.up)("q-item-section"),P=(0,t.up)("q-item"),S=(0,t.up)("q-list"),T=(0,t.up)("q-uploader"),Y=(0,t.up)("q-card-section"),V=(0,t.up)("q-separator"),A=(0,t.up)("q-btn-group"),L=(0,t.up)("q-icon"),M=(0,t.up)("q-input"),B=(0,t.up)("q-th"),D=(0,t.up)("q-tr"),O=(0,t.up)("q-td"),G=(0,t.up)("q-pagination"),N=(0,t.up)("q-table"),R=(0,t.up)("q-page");return(0,t.wg)(),(0,t.j4)(R,{padding:"",class:"container"},{default:(0,t.w5)((()=>[(0,t.Wm)(z,{flat:"",bordered:"",class:(0,a.C_)(["rounded",e.$q.screen.gt.sm?"q-px-lg q-py-sm":"q-pa-md"])},{default:(0,t.w5)((()=>[(0,t.Wm)(Z,{class:"q-pa-none"},{default:(0,t.w5)((()=>[(0,t.Wm)(F,null,{default:(0,t.w5)((()=>[(0,t._)("div",o,(0,a.zw)(e.title),1)])),_:1})])),_:1})])),_:1},8,["class"]),(0,t.Wm)(z,{flat:"",bordered:"",class:"rounded q-my-lg"},{default:(0,t.w5)((()=>[(0,t.Wm)(T,{multiple:"",filter:e.filesChecker,onRejected:e.onRejected,onAdded:e.filesAddedQued,"max-file-size":"5000000",class:"full-width files-uploader rounded"},{header:(0,t.w5)((l=>[(0,t._)("div",{class:"text-body2 color-primary2 text-center q-py-lg rounded cursor-pointer",onClick:s[0]||(s[0]=(...s)=>e.triggerUpload&&e.triggerUpload(...s))},[(0,t.Wm)($,{flat:"",ripple:!1,color:"primary",class:"bg-none",ref:"uploadBtnTrigger",onClick:l.pickFiles},{default:(0,t.w5)((()=>[(0,t.Wm)(Q,{icon:"icon-upload-01",iconSize:"sm"}),(0,t.Wm)(U)])),_:2},1032,["onClick"]),r,i])])),list:(0,t.w5)((e=>[(0,t.Wm)(S,{separator:""},{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.files,(s=>((0,t.wg)(),(0,t.j4)(P,{key:s.__key},{default:(0,t.w5)((()=>[(0,t.Wm)(I,null,{default:(0,t.w5)((()=>[(0,t.Wm)(j,{class:"full-width ellipsis"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,a.zw)(s.name),1)])),_:2},1024),(0,t.Wm)(j,{caption:""},{default:(0,t.w5)((()=>[(0,t.Uk)(" Status: "+(0,a.zw)(s.__status),1)])),_:2},1024),(0,t.Wm)(j,{caption:""},{default:(0,t.w5)((()=>[(0,t.Uk)((0,a.zw)(s.__sizeLabel)+" / "+(0,a.zw)(s.__progressLabel),1)])),_:2},1024)])),_:2},1024),s.__img?((0,t.wg)(),(0,t.j4)(I,{key:0,thumbnail:"",class:"gt-xs"},{default:(0,t.w5)((()=>[(0,t._)("img",{src:s.__img.src},null,8,n)])),_:2},1024)):(0,t.kq)("",!0),(0,t.Wm)(I,{top:"",side:""},{default:(0,t.w5)((()=>[(0,t.Wm)($,{class:"gt-xs",size:"12px",flat:"",dense:"",round:"",icon:"icon-x-close",onClick:l=>e.removeFile(s)},null,8,["onClick"])])),_:2},1024)])),_:2},1024)))),128))])),_:2},1024)])),_:1},8,["filter","onRejected","onAdded"])])),_:1}),(0,t.Wm)(z,{flat:"",bordered:""},{default:(0,t.w5)((()=>[(0,t.Wm)(Y,{class:(0,a.C_)(e.$q.screen.gt.sm?"q-px-lg q-py-lg":"q-pa-md")},{default:(0,t.w5)((()=>[(0,t.Wm)(Z,{class:"text-primary q-pa-none"},{default:(0,t.w5)((()=>[(0,t.Wm)(F,{class:"text-h6 font-medium"},{default:(0,t.w5)((()=>[d,c])),_:1})])),_:1})])),_:1},8,["class"]),(0,t.Wm)(V),(0,t.Wm)(Y,{class:(0,a.C_)([e.$q.screen.gt.sm?"q-px-lg":"q-px-md","row full-width items-center justify-between"])},{default:(0,t.w5)((()=>[(0,t._)("div",p,[(0,t.Wm)(A,{spread:e.$q.screen.sm||e.$q.screen.lt.md,class:"rounded no-shadow border-add"},{default:(0,t.w5)((()=>[(0,t.Wm)($,{flat:"","no-caps":"",size:"16px",class:(0,a.C_)(["hover-text-secondary",""===e.filesFrom?"bg-accent":""]),color:""===e.filesFrom?"secondary":"primary",onClick:s[1]||(s[1]=s=>e.filesFrom="")},{default:(0,t.w5)((()=>[m])),_:1},8,["color","class"]),(0,t.Wm)(V,{vertical:""}),(0,t.Wm)($,{flat:"","no-caps":"",size:"16px",class:(0,a.C_)(["hover-text-secondary","me"===e.filesFrom?"bg-accent":""]),color:"me"===e.filesFrom?"secondary":"primary",onClick:s[2]||(s[2]=s=>e.filesFrom="me")},{default:(0,t.w5)((()=>[u])),_:1},8,["color","class"]),(0,t.Wm)(V,{vertical:""}),(0,t.Wm)($,{flat:"","no-caps":"",size:"16px",class:(0,a.C_)(["hover-text-secondary","shared"===e.filesFrom?"bg-accent":""]),color:"shared"===e.filesFrom?"secondary":"primary",onClick:s[3]||(s[3]=s=>e.filesFrom="shared")},{default:(0,t.w5)((()=>[g])),_:1},8,["color","class"])])),_:1},8,["spread"])]),(0,t._)("div",f,[(0,t.Wm)(M,{dense:"",outlined:"",debounce:"300",placeholder:"Search"},{append:(0,t.w5)((()=>[(0,t.Wm)(L,{name:"icon-search-lg"})])),_:1})])])),_:1},8,["class"]),(0,t.Wm)(V),(0,t.Wm)(N,{filteredSortedRows:"","binary-state-sort":"",rows:e.orgFiles,columns:e.columns,"row-key":"id",color:"primary","rows-per-page-label":"Users per page","no-data-label":"We did not find any users...","rows-per-page-options":[10,20,30,50,50,0],style:{"max-height":"950px"},selection:"multiple",selected:e.selectedFiles,"onUpdate:selected":s[5]||(s[5]=s=>e.selectedFiles=s)},{header:(0,t.w5)((s=>[(0,t.Wm)(D,{class:"bg-color"},{default:(0,t.w5)((()=>[(0,t.Wm)(B,{"auto-width":"",class:"cursor-pointer",onClick:e=>s.selected=!s.selected},{default:(0,t.w5)((()=>[(0,t.Wm)(L,{size:"sm",name:s.selected?"icon-check-square":"icon-square",color:s.selected||e.selectedFiles.length?"secondary":"grey-5"},null,8,["name","color"])])),_:2},1032,["onClick"]),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(s.cols,((e,l)=>((0,t.wg)(),(0,t.j4)(B,{"auto-width":"",props:s,key:e.name,style:(0,a.j5)([{position:"sticky",top:"0","z-index":"2"},0===l?"padding-left: 24px":""])},{default:(0,t.w5)((()=>[(0,t._)("span",_,(0,a.zw)(e.label),1)])),_:2},1032,["props","style"])))),128)),(0,t.Wm)(B,{"auto-width":"",style:{position:"sticky",top:"0","z-index":"2"},class:"text-right"})])),_:2},1024)])),body:(0,t.w5)((s=>[(0,t.Wm)(D,{props:s,class:(0,a.C_)(["hover-bg-accent",s.selected?"bg-accent":"bg-transparent"])},{default:(0,t.w5)((()=>[(0,t.Wm)(O,{"auto-width":"",class:(0,a.C_)(["cursor-pointer text-center",s.selected?"bg-accent":"bg-transparent"]),onClick:l=>e.toggleSelected(s.selected,s.row)},{default:(0,t.w5)((()=>[(0,t.Wm)(L,{size:"sm",name:s.selected?"icon-check-square":"icon-square",color:s.selected?"secondary":"grey-5"},null,8,["name","color"])])),_:2},1032,["class","onClick"]),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(s.cols,((e,l)=>((0,t.wg)(),(0,t.j4)(O,{key:e.name||l,props:s,class:(0,a.C_)([s.selected?"bg-accent":"bg-transparent","cursor-pointer text-center text-primary q-py-md"]),style:(0,a.j5)(0===l?"padding-left: 24px; padding-top: 18px; padding-bottom: 18px":"")},{default:(0,t.w5)((()=>[(0,t._)("span",{class:(0,a.C_)(["text-body2",0===l?"font-medium":""])},(0,a.zw)(e.value),3)])),_:2},1032,["props","class","style"])))),128)),(0,t.Wm)(O,{class:(0,a.C_)(s.selected?"bg-accent":"bg-transparent"),style:{"padding-right":"24px","padding-top":"18px","padding-bottom":"18px"}},{default:(0,t.w5)((()=>[(0,t._)("div",y,[(0,t.Wm)($,{flat:"",round:"",size:"12px",color:"grey-7",icon:"icon-trash-01",class:"hover-text-negative hover-bg-accent"}),(0,t.Wm)($,{flat:"",round:"",size:"12px",color:"grey-7",icon:"icon-edit-01",class:"hover-text-secondary hover-bg-accent"})])])),_:2},1032,["class"])])),_:2},1032,["props","class"])])),bottom:(0,t.w5)((s=>[e.$q.screen.lt.xs||e.$q.screen.xs?((0,t.wg)(),(0,t.iD)("div",w,[(0,t.Wm)(G,{unelevated:"","boundary-numbers":"",modelValue:s.pagination.page,"onUpdate:modelValue":e=>s.pagination.page=e,color:"text-grey-6",class:"color-primary2 rounded","active-color":"grey-2","active-text-color":"primary",max:s.pagesNumber,"max-pages":6},null,8,["modelValue","onUpdate:modelValue","max"])])):(0,t.kq)("",!0),(0,t._)("div",h,[(0,t._)("div",{class:(0,a.C_)(["text-left",e.$q.screen.gt.xs?"col-2":"col-6"])},[(0,t.Wm)($,{dense:"",outline:"","no-caps":"",disable:s.isFirstPage,onClick:s.prevPage,class:(0,a.C_)(["rounded q-px-md slide-hover",s.isFirstPage?"color-primary2":"text-primary hover-text-secondary"])},{default:(0,t.w5)((()=>[(0,t.Wm)(L,{size:"xs",name:"icon-arrow-narrow-left",class:(0,a.C_)(s.isFirstPage?"":"slide-hover-right-md")},null,8,["class"]),b])),_:2},1032,["disable","onClick","class"])],2),e.$q.screen.gt.xs?((0,t.wg)(),(0,t.j4)(G,{key:0,unelevated:"","boundary-numbers":"",modelValue:s.pagination.page,"onUpdate:modelValue":e=>s.pagination.page=e,color:"text-grey-6",class:"color-primary2 rounded","active-color":"grey-2","active-text-color":"primary",max:s.pagesNumber,"max-pages":6},null,8,["modelValue","onUpdate:modelValue","max"])):(0,t.kq)("",!0),(0,t._)("div",{class:(0,a.C_)(["text-right",e.$q.screen.gt.xs?"col-2":"col-6"])},[(0,t.Wm)($,{dense:"",outline:"","no-caps":"",disable:s.isLastPage,onClick:s.nextPage,class:(0,a.C_)(["rounded q-px-md slide-hover",s.isLastPage?"color-primary2":"text-primary hover-text-secondary"])},{default:(0,t.w5)((()=>[x,(0,t.Wm)(L,{size:"xs",name:"icon-arrow-narrow-right",class:(0,a.C_)(s.isLastPage?"":"slide-hover-left-md")},null,8,["class"])])),_:2},1032,["disable","onClick","class"])],2)])])),"no-data":(0,t.w5)((({icon:l,message:o,filter:r})=>[(0,t._)("div",q,[(0,t.Wm)(L,{size:"sm",color:"negative",name:r?"icon-filter-funnel-01":l},null,8,["name"]),(0,t._)("span",v,(0,a.zw)(o),1),(0,t._)("span",{class:"text-body2 color-primary2 font-medium cursor-pointer hover-text-secondary",onClick:s[4]||(s[4]=(...s)=>e.inviteUser&&e.inviteUser(...s))},"Invite Now!")])])),_:1},8,["rows","columns","selected"])])),_:1})])),_:1})}l(6727);var W=l(5548),C=l(1809),F=l(7838),Z=l(4376),z=l(321);const{humanStorageSize:Q}=z.ZP,U=(0,t.aZ)({name:"FilesPage",components:{CardIconBox:W.Z},data(){return{search_outlined:!1,title:"Files and Assets",searchQuery:"",filesFrom:"",selectedFiles:[],columns:[{name:"filename",required:!0,label:"Filename",align:"left",field:e=>e.filename,format:e=>`${e}`,sortable:!0},{name:"filesize",label:"Filesize",align:"left",field:e=>e.filesize,format:e=>`${Q(e)}`,sortable:!0,sort:(e,s)=>parseInt(e,10)-parseInt(s,10)},{name:"date_uploaded",label:"Date uploaded",align:"left",field:e=>e.date_uploaded,format:e=>`${Z.ZP.formatDate(e,"MMM d, YYYY")}`,sortable:!0,sort:(e,s)=>parseInt(e,10)-parseInt(s,10)},{name:"last_updated",label:"Last updated",align:"left",field:e=>e.last_updated,format:e=>`${Z.ZP.formatDate(e,"MMM d, YYYY")}`,sortable:!0,sort:(e,s)=>parseInt(e,10)-parseInt(s,10)},{name:"uploaded_by",label:"Uploaded by",align:"left",field:e=>e.uploaded_by,format:e=>`${this.selectedOrgUsers[e].firstname} ${this.selectedOrgUsers[e].lastname}`,sortable:!0,sort:(e,s)=>parseInt(e,10)-parseInt(s,10)}]}},async mounted(){this.$root.setMeta({title:this.title})},computed:{...(0,C.rn)(F.Z,["selectedOrgFiles","selectedOrgUsers"]),orgFiles(){return Object.values(this.selectedOrgFiles)}},watch:{selectedFiles:{async handler(e){console.log("selectedFiles Changed:",e)},deep:!0}},methods:{filesChecker(e,s=["image/svg+xml","image/png","image/jpeg","image/gif"]){return e.filter((e=>{let l=s.includes(e.type);return l}))},onRejected(e){this.$q.notify({type:"negative",message:`${e.length} file(s) did not pass validation constraints`})},filesAddedQued(e){e.forEach((e=>{this.$q.notify({message:"Uploading: "+e.name,spinner:!0})}))},toggleSelected(e,s){e?this.selectedFiles.splice(this.selectedFiles.indexOf(s),1):this.selectedFiles.push(s)},triggerUpload(){var e;null===(e=this.$refs["uploadBtnTrigger"])||void 0===e||e.click()}}});var $=l(1639),j=l(9885),I=l(4458),P=l(1663),S=l(1973),T=l(7534),Y=l(4455),V=l(6246),A=l(3246),L=l(490),M=l(1233),B=l(3115),D=l(3190),O=l(926),G=l(7236),N=l(6611),R=l(2857),H=l(1450),K=l(3532),E=l(1682),J=l(7220),X=l(2482),ee=l(996),se=l(9984),le=l.n(se);const te=(0,$.Z)(U,[["render",k]]),ae=te;le()(U,"components",{QPage:j.Z,QCard:I.Z,QToolbar:P.Z,QToolbarTitle:S.Z,QUploader:T.Z,QBtn:Y.Z,QUploaderAddTrigger:V.Z,QList:A.Z,QItem:L.Z,QItemSection:M.Z,QItemLabel:B.Z,QCardSection:D.Z,QSeparator:O.Z,QBtnGroup:G.Z,QInput:N.Z,QIcon:R.Z,QTable:H.Z,QTr:K.Z,QTh:E.Z,QTd:J.Z,QVirtualScroll:X.Z,QPagination:ee.Z})}}]);