"use strict";
(globalThis["webpackChunkgrowmodo_hub"] = globalThis["webpackChunkgrowmodo_hub"] || []).push([[163],{

/***/ 30143:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  "default": () => (/* binding */ TaskOverview)
});

// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.push.js
var es_array_push = __webpack_require__(69665);
// EXTERNAL MODULE: ./node_modules/vue/dist/vue.esm-bundler.js + 6 modules
var vue_esm_bundler = __webpack_require__(56646);
;// CONCATENATED MODULE: ./node_modules/@quasar/app-webpack/lib/webpack/loader.js.transform-quasar-imports.js!./node_modules/babel-loader/lib/index.js??clonedRuleSet-2.use[0]!./node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[3]!./node_modules/@quasar/app-webpack/lib/webpack/loader.vue.auto-import-quasar.js??ruleSet[0].use[0]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[1]!./src/pages/Brands/TaskOverview.vue?vue&type=template&id=0185b491


const _hoisted_1 = {
  class: "row q-col-gutter-md items-center q-pb-lg"
};
const _hoisted_2 = {
  class: "flex flex-start"
};
const _hoisted_3 = {
  key: 0
};
const _hoisted_4 = {
  class: "col-12 col-sm-auto"
};
const _hoisted_5 = {
  class: "q-pt-md q-pb-sm",
  id: "overview-title"
};
const _hoisted_6 = {
  class: "row items-center q-gutter-sm"
};
const _hoisted_7 = {
  class: "text-h4 font-demi-bold text-primary"
};
const _hoisted_8 = {
  class: "q-gutter-sm"
};
const _hoisted_9 = {
  class: "full-width text-left text-body1"
};
const _hoisted_10 = {
  class: "row justify-end items-center"
};
const _hoisted_11 = {
  key: 0,
  class: "q-gutter-sm"
};
const _hoisted_12 = {
  key: 1,
  class: "q-gutter-sm"
};
const _hoisted_13 = /*#__PURE__*/(0,vue_esm_bundler/* createElementVNode */._)("span", {
  class: "q-pl-xs"
}, "Save Changes", -1);
const _hoisted_14 = ["id"];
const _hoisted_15 = {
  class: "items-center flex text-negative font-medium q-gutter-x-sm"
};
const _hoisted_16 = {
  key: 0,
  class: "q-pt-sm text-primary-500"
};
const _hoisted_17 = {
  key: 1,
  class: "q-pt-sm"
};
const _hoisted_18 = ["id"];
const _hoisted_19 = {
  key: 0
};
const _hoisted_20 = {
  key: 1
};
const _hoisted_21 = ["id"];
const _hoisted_22 = {
  key: 0
};
const _hoisted_23 = ["innerHTML"];
const _hoisted_24 = {
  key: 1
};
const _hoisted_25 = ["id"];
const _hoisted_26 = {
  key: 0
};
const _hoisted_27 = {
  key: 1
};
const _hoisted_28 = ["id"];
const _hoisted_29 = {
  key: 0,
  class: "row items-center justify-start q-col-gutter-md"
};
const _hoisted_30 = {
  key: 1
};
const _hoisted_31 = ["id"];
const _hoisted_32 = {
  key: 0
};
const _hoisted_33 = ["innerHTML"];
const _hoisted_34 = {
  key: 1
};
const _hoisted_35 = ["id"];
const _hoisted_36 = {
  key: 0
};
const _hoisted_37 = ["innerHTML"];
const _hoisted_38 = {
  key: 1
};
function render(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_q_icon = (0,vue_esm_bundler/* resolveComponent */.up)("q-icon");
  const _component_q_avatar = (0,vue_esm_bundler/* resolveComponent */.up)("q-avatar");
  const _component_q_breadcrumbs_el = (0,vue_esm_bundler/* resolveComponent */.up)("q-breadcrumbs-el");
  const _component_q_breadcrumbs = (0,vue_esm_bundler/* resolveComponent */.up)("q-breadcrumbs");
  const _component_q_badge = (0,vue_esm_bundler/* resolveComponent */.up)("q-badge");
  const _component_q_card = (0,vue_esm_bundler/* resolveComponent */.up)("q-card");
  const _component_q_btn = (0,vue_esm_bundler/* resolveComponent */.up)("q-btn");
  const _component_q_space = (0,vue_esm_bundler/* resolveComponent */.up)("q-space");
  const _component_tooltip_pro = (0,vue_esm_bundler/* resolveComponent */.up)("tooltip-pro");
  const _component_q_card_section = (0,vue_esm_bundler/* resolveComponent */.up)("q-card-section");
  const _component_q_input = (0,vue_esm_bundler/* resolveComponent */.up)("q-input");
  const _component_q_editor = (0,vue_esm_bundler/* resolveComponent */.up)("q-editor");
  const _component_q_video = (0,vue_esm_bundler/* resolveComponent */.up)("q-video");
  const _component_q_img = (0,vue_esm_bundler/* resolveComponent */.up)("q-img");
  const _component_q_splitter = (0,vue_esm_bundler/* resolveComponent */.up)("q-splitter");
  const _component_q_scroll_observer = (0,vue_esm_bundler/* resolveComponent */.up)("q-scroll-observer");
  const _component_image_lightbox = (0,vue_esm_bundler/* resolveComponent */.up)("image-lightbox");
  const _component_q_page = (0,vue_esm_bundler/* resolveComponent */.up)("q-page");
  const _directive_ripple = (0,vue_esm_bundler/* resolveDirective */.Q2)("ripple");
  return (0,vue_esm_bundler/* openBlock */.wg)(), (0,vue_esm_bundler/* createBlock */.j4)(_component_q_page, {
    class: "bg-white"
  }, {
    default: (0,vue_esm_bundler/* withCtx */.w5)(() => [(0,vue_esm_bundler/* createVNode */.Wm)(_component_q_card, {
      flat: "",
      class: "container bg-trasnparent"
    }, {
      default: (0,vue_esm_bundler/* withCtx */.w5)(() => [(0,vue_esm_bundler/* createVNode */.Wm)(_component_q_card, {
        flat: ""
      }, {
        default: (0,vue_esm_bundler/* withCtx */.w5)(() => [(0,vue_esm_bundler/* createElementVNode */._)("div", _hoisted_1, [(0,vue_esm_bundler/* createElementVNode */._)("div", {
          class: "col-12 col-sm-auto",
          style: (0,vue_esm_bundler/* normalizeStyle */.j5)(`min-width: ${_ctx.splitterModel + 35}px;`)
        }, [(0,vue_esm_bundler/* createElementVNode */._)("div", _hoisted_2, [(0,vue_esm_bundler/* createVNode */.Wm)(_component_q_avatar, {
          square: "",
          color: "accent",
          size: "136px",
          class: "rounded",
          "text-color": "secondary font-medium"
        }, {
          default: (0,vue_esm_bundler/* withCtx */.w5)(() => [_ctx.brandInfo.brand_name ? ((0,vue_esm_bundler/* openBlock */.wg)(), (0,vue_esm_bundler/* createElementBlock */.iD)("span", _hoisted_3, (0,vue_esm_bundler/* toDisplayString */.zw)(_ctx.avatarNameAbbr(_ctx.brandInfo.brand_name)), 1)) : ((0,vue_esm_bundler/* openBlock */.wg)(), (0,vue_esm_bundler/* createBlock */.j4)(_component_q_icon, {
            key: 1,
            name: "icon-star-asterisk",
            size: "60px"
          }))]),
          _: 1
        })])], 4), (0,vue_esm_bundler/* createElementVNode */._)("div", _hoisted_4, [(0,vue_esm_bundler/* createVNode */.Wm)(_component_q_breadcrumbs, {
          "active-color": "primary-500",
          "separator-color": "primary-500",
          gutter: "xs"
        }, {
          separator: (0,vue_esm_bundler/* withCtx */.w5)(() => [(0,vue_esm_bundler/* createVNode */.Wm)(_component_q_icon, {
            size: "xs",
            name: "icon-chevron-right",
            class: "q-py-xs"
          })]),
          default: (0,vue_esm_bundler/* withCtx */.w5)(() => [(0,vue_esm_bundler/* createVNode */.Wm)(_component_q_breadcrumbs_el, {
            icon: "icon-home-line",
            class: "q-py-xs q-pr-sm cursor-pointer hover-text-secondary",
            to: "/"
          }), (0,vue_esm_bundler/* createVNode */.Wm)(_component_q_breadcrumbs_el, {
            label: "Brands",
            class: "q-py-xs q-px-sm rounded cursor-pointer hover-text-secondary text-primary-500 font-medium",
            to: "/brands"
          }), (0,vue_esm_bundler/* createVNode */.Wm)(_component_q_breadcrumbs_el, {
            label: "Brand Overview",
            class: "q-py-xs q-px-sm rounded cursor-pointer hover-text-secondary text-primary-500 font-medium",
            to: `/brands/${_ctx.brandId}`
          }, null, 8, ["to"]), (0,vue_esm_bundler/* createVNode */.Wm)(_component_q_breadcrumbs_el, {
            label: "Task Overview",
            class: "text-secondary bg-accent q-py-xs q-px-sm rounded font-medium"
          })]),
          _: 1
        }), (0,vue_esm_bundler/* createElementVNode */._)("div", _hoisted_5, [(0,vue_esm_bundler/* createElementVNode */._)("div", _hoisted_6, [(0,vue_esm_bundler/* createElementVNode */._)("span", _hoisted_7, (0,vue_esm_bundler/* toDisplayString */.zw)(_ctx.taskInfo.title), 1), (0,vue_esm_bundler/* createVNode */.Wm)(_component_q_badge, {
          class: "badge badge-blue cursor-pointer",
          onClick: _cache[0] || (_cache[0] = $event => _ctx.$router.push(`/brands/${_ctx.brandId}`))
        }, {
          default: (0,vue_esm_bundler/* withCtx */.w5)(() => [(0,vue_esm_bundler/* createTextVNode */.Uk)((0,vue_esm_bundler/* toDisplayString */.zw)(_ctx.brandInfo.brand_name), 1)]),
          _: 1
        })])])])])]),
        _: 1
      }), (0,vue_esm_bundler/* createVNode */.Wm)(_component_q_card, {
        flat: ""
      }, {
        default: (0,vue_esm_bundler/* withCtx */.w5)(() => [(0,vue_esm_bundler/* createVNode */.Wm)(_component_q_splitter, {
          modelValue: _ctx.splitterModel,
          "onUpdate:modelValue": _cache[15] || (_cache[15] = $event => _ctx.splitterModel = $event),
          unit: "px",
          id: "mainSplitter",
          ref: "mainSplitter",
          "separator-class": `bg-transparent q-mx-md${_ctx.$q.screen.lt.sm ? ' hidden' : ''}`,
          "before-class": `sticky sticky-menu-top${_ctx.$q.screen.lt.sm ? ' hidden' : ''}`
        }, {
          before: (0,vue_esm_bundler/* withCtx */.w5)(() => [(0,vue_esm_bundler/* createElementVNode */._)("div", _hoisted_8, [((0,vue_esm_bundler/* openBlock */.wg)(true), (0,vue_esm_bundler/* createElementBlock */.iD)(vue_esm_bundler/* Fragment */.HY, null, (0,vue_esm_bundler/* renderList */.Ko)(_ctx.allSections, (tab, i) => {
            return (0,vue_esm_bundler/* withDirectives */.wy)(((0,vue_esm_bundler/* openBlock */.wg)(), (0,vue_esm_bundler/* createBlock */.j4)(_component_q_card, {
              flat: "",
              key: tab.key,
              class: (0,vue_esm_bundler/* normalizeClass */.C_)(["cursor-pointer rounded hover-text-secondary hover-bg-accent text-body1 font-medium", tab.key === _ctx.tabSectionId && _ctx.tabSectionIdScrolled === '' || _ctx.tabSectionIdScrolled === tab.key || _ctx.tabSectionIdScrolled === '' && _ctx.tabSectionId === '' && i === 0 ? 'bg-accent text-secondary' : 'text-primary-500']),
              onClick: $event => _ctx.clickScrollEvent(tab.key, false)
            }, {
              default: (0,vue_esm_bundler/* withCtx */.w5)(() => [(0,vue_esm_bundler/* createVNode */.Wm)(_component_q_btn, {
                flat: "",
                "no-caps": "",
                ripple: false,
                class: "rounded hover-text-secondary hover-bg-accent font-medium button-md"
              }, {
                default: (0,vue_esm_bundler/* withCtx */.w5)(() => [(0,vue_esm_bundler/* createElementVNode */._)("div", _hoisted_9, (0,vue_esm_bundler/* toDisplayString */.zw)(tab.label), 1)]),
                _: 2
              }, 1024)]),
              _: 2
            }, 1032, ["class", "onClick"])), [[_directive_ripple, {
              color: 'secondary'
            }]]);
          }), 128))])]),
          after: (0,vue_esm_bundler/* withCtx */.w5)(() => [(0,vue_esm_bundler/* createVNode */.Wm)(_component_q_card, {
            flat: "",
            class: "text-body1 q-pb-xl"
          }, {
            default: (0,vue_esm_bundler/* withCtx */.w5)(() => [(0,vue_esm_bundler/* createVNode */.Wm)(_component_q_card_section, {
              class: "q-px-none q-pt-none q-pb-md font-medium text-h5"
            }, {
              default: (0,vue_esm_bundler/* withCtx */.w5)(() => [(0,vue_esm_bundler/* createElementVNode */._)("div", _hoisted_10, [(0,vue_esm_bundler/* createTextVNode */.Uk)(" Task Overview "), (0,vue_esm_bundler/* createVNode */.Wm)(_component_q_space), !_ctx.editing ? ((0,vue_esm_bundler/* openBlock */.wg)(), (0,vue_esm_bundler/* createElementBlock */.iD)("div", _hoisted_11, [_ctx.documentReady ? ((0,vue_esm_bundler/* openBlock */.wg)(), (0,vue_esm_bundler/* createBlock */.j4)(_component_q_btn, {
                key: 0,
                flat: "",
                round: "",
                size: "sm",
                icon: "icon-printer",
                class: "text-primary-500 hover-text-secondary",
                disable: !_ctx.documentReady || _ctx.convertingPDF,
                onClick: _cache[1] || (_cache[1] = $event => _ctx.exportToPDF(`TASK-${_ctx.taskInfo?.title}-${_ctx.brandInfo.brand_name}`, ['overview-title', ..._ctx.overviewIds]))
              }, {
                default: (0,vue_esm_bundler/* withCtx */.w5)(() => [(0,vue_esm_bundler/* createVNode */.Wm)(_component_tooltip_pro, {
                  anchor: `${_ctx.$q.screen.lt.md ? 'center left' : 'bottom middle'}`,
                  self: `${_ctx.$q.screen.lt.md ? 'center right' : 'top middle'}`
                }, {
                  default: (0,vue_esm_bundler/* withCtx */.w5)(() => [(0,vue_esm_bundler/* createTextVNode */.Uk)(" Export to PDF ")]),
                  _: 1
                }, 8, ["anchor", "self"])]),
                _: 1
              }, 8, ["disable"])) : (0,vue_esm_bundler/* createCommentVNode */.kq)("", true), (0,vue_esm_bundler/* createVNode */.Wm)(_component_q_btn, {
                flat: "",
                round: "",
                size: "sm",
                icon: "icon-edit-05",
                class: "text-primary-500 hover-text-secondary",
                disable: !_ctx.documentReady || _ctx.convertingPDF,
                onClick: _cache[2] || (_cache[2] = $event => _ctx.editing = true)
              }, {
                default: (0,vue_esm_bundler/* withCtx */.w5)(() => [(0,vue_esm_bundler/* createVNode */.Wm)(_component_tooltip_pro, null, {
                  default: (0,vue_esm_bundler/* withCtx */.w5)(() => [(0,vue_esm_bundler/* createTextVNode */.Uk)("Edit")]),
                  _: 1
                })]),
                _: 1
              }, 8, ["disable"])])) : ((0,vue_esm_bundler/* openBlock */.wg)(), (0,vue_esm_bundler/* createElementBlock */.iD)("div", _hoisted_12, [(0,vue_esm_bundler/* createVNode */.Wm)(_component_q_btn, {
                "no-caps": "",
                outline: "",
                size: "sm",
                class: "rounded not-gm hover-negative",
                onClick: _cache[3] || (_cache[3] = (0,vue_esm_bundler/* withModifiers */.iM)($event => _ctx.editing = false, ["stop"]))
              }, {
                default: (0,vue_esm_bundler/* withCtx */.w5)(() => [(0,vue_esm_bundler/* createTextVNode */.Uk)(" Cancel ")]),
                _: 1
              }), (0,vue_esm_bundler/* createVNode */.Wm)(_component_q_btn, {
                "no-caps": "",
                unelevated: "",
                size: "sm",
                color: "primary",
                class: "rounded not-gm hover-bg-secondary",
                onClick: _cache[4] || (_cache[4] = (0,vue_esm_bundler/* withModifiers */.iM)($event => _ctx.editing = false, ["stop"]))
              }, {
                default: (0,vue_esm_bundler/* withCtx */.w5)(() => [(0,vue_esm_bundler/* createVNode */.Wm)(_component_q_icon, {
                  name: "icon-save-01",
                  size: "xs"
                }), _hoisted_13]),
                _: 1
              })]))])]),
              _: 1
            }), ((0,vue_esm_bundler/* openBlock */.wg)(true), (0,vue_esm_bundler/* createElementBlock */.iD)(vue_esm_bundler/* Fragment */.HY, null, (0,vue_esm_bundler/* renderList */.Ko)(_ctx.answers, (data, i) => {
              return (0,vue_esm_bundler/* openBlock */.wg)(), (0,vue_esm_bundler/* createBlock */.j4)(_component_q_card_section, {
                key: data,
                class: "q-px-none q-pt-none q-pb-lg",
                "q-id": i,
                "q-info": JSON.stringify(data)
              }, {
                default: (0,vue_esm_bundler/* withCtx */.w5)(() => [data.question?.title.toLowerCase() == 'warning' ? ((0,vue_esm_bundler/* openBlock */.wg)(), (0,vue_esm_bundler/* createElementBlock */.iD)("div", {
                  key: 0,
                  id: _ctx.overviewIds[i]
                }, [(0,vue_esm_bundler/* createVNode */.Wm)(_component_q_card, {
                  flat: "",
                  class: "rounded bg-color q-pa-md"
                }, {
                  default: (0,vue_esm_bundler/* withCtx */.w5)(() => [(0,vue_esm_bundler/* createElementVNode */._)("div", {
                    class: "target-clickable-id full-width",
                    onClick: _cache[5] || (_cache[5] = () => _ctx.noTitleClick ? void 0 : _ctx.clickScrollEvent('warning'))
                  }, [(0,vue_esm_bundler/* createElementVNode */._)("div", _hoisted_15, [(0,vue_esm_bundler/* createVNode */.Wm)(_component_q_icon, {
                    name: "icon-alert-circle",
                    class: "font-medium"
                  }), (0,vue_esm_bundler/* createElementVNode */._)("span", null, (0,vue_esm_bundler/* toDisplayString */.zw)(data.question?.title), 1)])]), !_ctx.editing ? ((0,vue_esm_bundler/* openBlock */.wg)(), (0,vue_esm_bundler/* createElementBlock */.iD)("div", _hoisted_16, (0,vue_esm_bundler/* toDisplayString */.zw)(data.value), 1)) : ((0,vue_esm_bundler/* openBlock */.wg)(), (0,vue_esm_bundler/* createElementBlock */.iD)("div", _hoisted_17, [(0,vue_esm_bundler/* createVNode */.Wm)(_component_q_input, {
                    dense: "",
                    outlined: "",
                    type: "textarea",
                    class: "rounded",
                    modelValue: data.value,
                    "onUpdate:modelValue": $event => data.value = $event
                  }, null, 8, ["modelValue", "onUpdate:modelValue"])]))]),
                  _: 2
                }, 1024)], 8, _hoisted_14)) : ['textarea1'].includes(data.question.type) ? ((0,vue_esm_bundler/* openBlock */.wg)(), (0,vue_esm_bundler/* createElementBlock */.iD)("div", {
                  key: 1,
                  id: _ctx.overviewIds[i]
                }, [(0,vue_esm_bundler/* createElementVNode */._)("div", {
                  class: "q-pb-md font-medium text-subtitle1 target-clickable-id",
                  onClick: _cache[6] || (_cache[6] = () => _ctx.noTitleClick ? void 0 : _ctx.clickScrollEvent('target_audience'))
                }, (0,vue_esm_bundler/* toDisplayString */.zw)(data.question?.title), 1), !_ctx.editing ? ((0,vue_esm_bundler/* openBlock */.wg)(), (0,vue_esm_bundler/* createElementBlock */.iD)("div", _hoisted_19, [((0,vue_esm_bundler/* openBlock */.wg)(true), (0,vue_esm_bundler/* createElementBlock */.iD)(vue_esm_bundler/* Fragment */.HY, null, (0,vue_esm_bundler/* renderList */.Ko)(data.value.split('\n'), sentence => {
                  return (0,vue_esm_bundler/* openBlock */.wg)(), (0,vue_esm_bundler/* createElementBlock */.iD)("p", {
                    key: sentence
                  }, (0,vue_esm_bundler/* toDisplayString */.zw)(sentence), 1);
                }), 128))])) : ((0,vue_esm_bundler/* openBlock */.wg)(), (0,vue_esm_bundler/* createElementBlock */.iD)("div", _hoisted_20, [(0,vue_esm_bundler/* createVNode */.Wm)(_component_q_input, {
                  dense: "",
                  outlined: "",
                  type: "textarea",
                  class: "rounded",
                  modelValue: data.value,
                  "onUpdate:modelValue": $event => data.value = $event
                }, null, 8, ["modelValue", "onUpdate:modelValue"])]))], 8, _hoisted_18)) : ['textarea2'].includes(data.question.type) ? ((0,vue_esm_bundler/* openBlock */.wg)(), (0,vue_esm_bundler/* createElementBlock */.iD)("div", {
                  key: 2,
                  id: _ctx.overviewIds[i],
                  class: "hover-visibility"
                }, [(0,vue_esm_bundler/* createElementVNode */._)("div", {
                  class: "q-pb-md font-medium text-subtitle1 target-clickable-id",
                  onClick: _cache[7] || (_cache[7] = () => _ctx.noTitleClick ? void 0 : _ctx.clickScrollEvent('description'))
                }, (0,vue_esm_bundler/* toDisplayString */.zw)(data.question?.title), 1), !_ctx.editing ? ((0,vue_esm_bundler/* openBlock */.wg)(), (0,vue_esm_bundler/* createElementBlock */.iD)("div", _hoisted_22, [(0,vue_esm_bundler/* createElementVNode */._)("div", {
                  class: "raw-html",
                  innerHTML: data.value
                }, null, 8, _hoisted_23)])) : ((0,vue_esm_bundler/* openBlock */.wg)(), (0,vue_esm_bundler/* createElementBlock */.iD)("div", _hoisted_24, [(0,vue_esm_bundler/* createVNode */.Wm)(_component_q_editor, {
                  ref_for: true,
                  ref: "descriptionEditorRef",
                  onPaste: _cache[8] || (_cache[8] = e => _ctx.pastePlainText(e, _ctx.$refs['descriptionEditorRef'])),
                  modelValue: data.value,
                  "onUpdate:modelValue": $event => data.value = $event,
                  placeholder: data.placeholder,
                  height: "250px",
                  toolbar: [[{
                    icon: _ctx.$q.iconSet.editor.align,
                    fixedLabel: true,
                    list: 'only-icons',
                    options: ['left', 'center', 'right', 'justify']
                  }], [{
                    label: _ctx.$q.lang.editor.formatting,
                    icon: _ctx.$q.iconSet.editor.formatting,
                    list: 'no-icons',
                    options: ['p', 'h5', 'h6', 'code']
                  }], ['bold', 'italic', 'underline'], ['link', 'quote'], ['unordered', 'ordered', 'outdent', 'indent'], ['undo', 'redo']]
                }, null, 8, ["modelValue", "onUpdate:modelValue", "placeholder", "toolbar"])]))], 8, _hoisted_21)) : ['video_walkthrough'].includes(data.question.type) ? ((0,vue_esm_bundler/* openBlock */.wg)(), (0,vue_esm_bundler/* createElementBlock */.iD)("div", {
                  key: 3,
                  id: _ctx.overviewIds[i]
                }, [(0,vue_esm_bundler/* createElementVNode */._)("div", {
                  class: "q-pb-md font-medium text-subtitle1 target-clickable-id",
                  onClick: _cache[9] || (_cache[9] = () => _ctx.noTitleClick ? void 0 : _ctx.clickScrollEvent('video_walkthrough'))
                }, (0,vue_esm_bundler/* toDisplayString */.zw)(data.question?.title), 1), !_ctx.editing ? ((0,vue_esm_bundler/* openBlock */.wg)(), (0,vue_esm_bundler/* createElementBlock */.iD)("div", _hoisted_26, [(0,vue_esm_bundler/* createVNode */.Wm)(_component_q_video, {
                  ratio: 16 / 9,
                  class: "rounded fit",
                  title: data.question?.title,
                  src: _ctx.loomURLShare2Embed(data.value)
                }, null, 8, ["title", "src"])])) : ((0,vue_esm_bundler/* openBlock */.wg)(), (0,vue_esm_bundler/* createElementBlock */.iD)("div", _hoisted_27, [(0,vue_esm_bundler/* createVNode */.Wm)(_component_q_input, {
                  dense: "",
                  outlined: "",
                  class: "rounded",
                  modelValue: data.value,
                  "onUpdate:modelValue": $event => data.value = $event
                }, null, 8, ["modelValue", "onUpdate:modelValue"])]))], 8, _hoisted_25)) : ['upload_single', 'upload_multiple'].includes(data.question.type) ? ((0,vue_esm_bundler/* openBlock */.wg)(), (0,vue_esm_bundler/* createElementBlock */.iD)("div", {
                  key: 4,
                  id: _ctx.overviewIds[i]
                }, [(0,vue_esm_bundler/* createElementVNode */._)("div", {
                  class: "q-pb-md font-medium text-subtitle1 target-clickable-id",
                  onClick: _cache[10] || (_cache[10] = () => _ctx.noTitleClick ? void 0 : _ctx.clickScrollEvent('resources'))
                }, (0,vue_esm_bundler/* toDisplayString */.zw)(data.question?.title), 1), !_ctx.editing ? ((0,vue_esm_bundler/* openBlock */.wg)(), (0,vue_esm_bundler/* createElementBlock */.iD)("div", _hoisted_29, [((0,vue_esm_bundler/* openBlock */.wg)(), (0,vue_esm_bundler/* createElementBlock */.iD)(vue_esm_bundler/* Fragment */.HY, null, (0,vue_esm_bundler/* renderList */.Ko)(4, i => {
                  return (0,vue_esm_bundler/* createElementVNode */._)("div", {
                    key: i,
                    ratio: 1,
                    class: "rounded overflow-hidden col-12 col-sm-6"
                  }, [(0,vue_esm_bundler/* createVNode */.Wm)(_component_q_img, {
                    loading: "lazy",
                    src: `${_ctx.$cdn_host}${_ctx.$cdn.tmp}/Image-${i}.png`,
                    class: "rounded fit with-lightbox",
                    "spinner-color": "secondary",
                    alt: `Image-${i}`
                  }, null, 8, ["src", "alt"])]);
                }), 64))])) : ((0,vue_esm_bundler/* openBlock */.wg)(), (0,vue_esm_bundler/* createElementBlock */.iD)("div", _hoisted_30, "Edit / Upload Files"))], 8, _hoisted_28)) : typeof data.value === 'object' ? ((0,vue_esm_bundler/* openBlock */.wg)(), (0,vue_esm_bundler/* createElementBlock */.iD)("div", {
                  key: 5,
                  id: _ctx.overviewIds[i],
                  class: "hover-visibility"
                }, [(0,vue_esm_bundler/* createElementVNode */._)("div", {
                  class: "q-pb-md font-medium text-subtitle1 target-clickable-id",
                  onClick: _cache[11] || (_cache[11] = () => _ctx.noTitleClick ? void 0 : _ctx.clickScrollEvent('description'))
                }, (0,vue_esm_bundler/* toDisplayString */.zw)(data.question?.title), 1), !_ctx.editing ? ((0,vue_esm_bundler/* openBlock */.wg)(), (0,vue_esm_bundler/* createElementBlock */.iD)("div", _hoisted_32, [(0,vue_esm_bundler/* createElementVNode */._)("div", {
                  class: "raw-html",
                  innerHTML: data.value
                }, null, 8, _hoisted_33)])) : ((0,vue_esm_bundler/* openBlock */.wg)(), (0,vue_esm_bundler/* createElementBlock */.iD)("div", _hoisted_34, [(0,vue_esm_bundler/* createVNode */.Wm)(_component_q_editor, {
                  ref_for: true,
                  ref: "descriptionEditorRef",
                  onPaste: _cache[12] || (_cache[12] = e => _ctx.pastePlainText(e, _ctx.$refs['descriptionEditorRef'])),
                  modelValue: data.value,
                  "onUpdate:modelValue": $event => data.value = $event,
                  placeholder: data.placeholder,
                  height: "250px",
                  toolbar: [[{
                    icon: _ctx.$q.iconSet.editor.align,
                    fixedLabel: true,
                    list: 'only-icons',
                    options: ['left', 'center', 'right', 'justify']
                  }], [{
                    label: _ctx.$q.lang.editor.formatting,
                    icon: _ctx.$q.iconSet.editor.formatting,
                    list: 'no-icons',
                    options: ['p', 'h5', 'h6', 'code']
                  }], ['bold', 'italic', 'underline'], ['link', 'quote'], ['unordered', 'ordered', 'outdent', 'indent'], ['undo', 'redo']]
                }, null, 8, ["modelValue", "onUpdate:modelValue", "placeholder", "toolbar"])]))], 8, _hoisted_31)) : ((0,vue_esm_bundler/* openBlock */.wg)(), (0,vue_esm_bundler/* createElementBlock */.iD)("div", {
                  key: 6,
                  id: _ctx.overviewIds[i],
                  class: "hover-visibility"
                }, [(0,vue_esm_bundler/* createElementVNode */._)("div", {
                  class: "q-pb-md font-medium text-subtitle1 target-clickable-id",
                  onClick: _cache[13] || (_cache[13] = () => _ctx.noTitleClick ? void 0 : _ctx.clickScrollEvent('description'))
                }, (0,vue_esm_bundler/* toDisplayString */.zw)(data.question?.title), 1), !_ctx.editing ? ((0,vue_esm_bundler/* openBlock */.wg)(), (0,vue_esm_bundler/* createElementBlock */.iD)("div", _hoisted_36, [(0,vue_esm_bundler/* createElementVNode */._)("div", {
                  class: "raw-html",
                  innerHTML: data.value
                }, null, 8, _hoisted_37)])) : ((0,vue_esm_bundler/* openBlock */.wg)(), (0,vue_esm_bundler/* createElementBlock */.iD)("div", _hoisted_38, [(0,vue_esm_bundler/* createVNode */.Wm)(_component_q_editor, {
                  ref_for: true,
                  ref: "descriptionEditorRef",
                  onPaste: _cache[14] || (_cache[14] = e => _ctx.pastePlainText(e, _ctx.$refs['descriptionEditorRef'])),
                  modelValue: data.value,
                  "onUpdate:modelValue": $event => data.value = $event,
                  placeholder: data.placeholder,
                  height: "250px",
                  toolbar: [[{
                    icon: _ctx.$q.iconSet.editor.align,
                    fixedLabel: true,
                    list: 'only-icons',
                    options: ['left', 'center', 'right', 'justify']
                  }], [{
                    label: _ctx.$q.lang.editor.formatting,
                    icon: _ctx.$q.iconSet.editor.formatting,
                    list: 'no-icons',
                    options: ['p', 'h5', 'h6', 'code']
                  }], ['bold', 'italic', 'underline'], ['link', 'quote'], ['unordered', 'ordered', 'outdent', 'indent'], ['undo', 'redo']]
                }, null, 8, ["modelValue", "onUpdate:modelValue", "placeholder", "toolbar"])]))], 8, _hoisted_35))]),
                _: 2
              }, 1032, ["q-id", "q-info"]);
            }), 128))]),
            _: 1
          })]),
          _: 1
        }, 8, ["modelValue", "separator-class", "before-class"])]),
        _: 1
      })]),
      _: 1
    }), (0,vue_esm_bundler/* createVNode */.Wm)(_component_q_scroll_observer, {
      onScroll: _ctx.scrollHandler
    }, null, 8, ["onScroll"]), (0,vue_esm_bundler/* createVNode */.Wm)(_component_image_lightbox, {
      visible: _ctx.showLightBox,
      imgs: _ctx.lightboxImages,
      index: _ctx.lightboxIndex,
      onHide: _cache[16] || (_cache[16] = $event => _ctx.showLightBox = false)
    }, null, 8, ["visible", "imgs", "index"])]),
    _: 1
  });
}
;// CONCATENATED MODULE: ./src/pages/Brands/TaskOverview.vue?vue&type=template&id=0185b491

// EXTERNAL MODULE: ./node_modules/pinia/dist/pinia.mjs + 1 modules
var pinia = __webpack_require__(11872);
// EXTERNAL MODULE: ./src/stores/user/index.js + 3 modules
var user = __webpack_require__(33701);
// EXTERNAL MODULE: ./src/stores/growmodo/index.js + 3 modules
var growmodo = __webpack_require__(72393);
// EXTERNAL MODULE: ./node_modules/quasar/src/utils/copy-to-clipboard.js
var copy_to_clipboard = __webpack_require__(65054);
// EXTERNAL MODULE: ./node_modules/quasar/src/utils/debounce.js
var debounce = __webpack_require__(60899);
// EXTERNAL MODULE: ./node_modules/quasar/src/utils/format.js
var format = __webpack_require__(30321);
// EXTERNAL MODULE: ./src/assets/scripts/functions.js + 1 modules
var functions = __webpack_require__(1966);
// EXTERNAL MODULE: ./src/components/Helpers/FilesUploader.vue + 4 modules
var FilesUploader = __webpack_require__(65400);
// EXTERNAL MODULE: ./src/components/Helpers/Slots/UploadSlot.vue + 4 modules
var UploadSlot = __webpack_require__(47767);
// EXTERNAL MODULE: ./src/mixins/index.js + 7 modules
var mixins = __webpack_require__(93458);
;// CONCATENATED MODULE: ./node_modules/@quasar/app-webpack/lib/webpack/loader.js.transform-quasar-imports.js!./node_modules/babel-loader/lib/index.js??clonedRuleSet-2.use[0]!./node_modules/@quasar/app-webpack/lib/webpack/loader.vue.auto-import-quasar.js??ruleSet[0].use[0]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[1]!./src/pages/Brands/TaskOverview.vue?vue&type=script&lang=js







const {
    capitalize
  } = format["default"],
  getEl = id => {
    return document.getElementById(id);
  };



/* harmony default export */ const TaskOverviewvue_type_script_lang_js = ((0,vue_esm_bundler/* defineComponent */.aZ)({
  name: 'TaskOverview',
  mixins: [mixins/* FileUploader_Mixin */.GU, mixins/* Editor_Mixin */.kE, mixins/* Export_Task_Project_Mixin */.uZ, mixins/* Helpers_Mixin */.h2],
  // components: { FilesUploader, UploadSlot },

  data() {
    return {
      title: 'Task Overview',
      showLightBox: false,
      lightboxIndex: 0,
      lightboxImages: [],
      tabSectionId: '',
      tabSectionIdScrolled: '',
      splitterModel: 175,
      editing: false,
      noTitleClick: false,
      documentReady: false,
      capitalize,
      avatarNameAbbr: functions.avatarNameAbbr,
      loomURLShare2Embed: functions.loomURLShare2Embed,
      scrollHandler: (0,debounce/* default */.Z)(this.scrollHandlerOrig, 100),
      taskInfo: {}
    };
  },
  async mounted() {
    this.$root.setMeta({
      title: this.title
    });
    const response = await this.getSingleTask(this.taskId);
    console.warn('taskInfo', this.taskId, response);
    if (response?.success) this.taskInfo = response.data;
    console.warn('taskInfo', this.taskId, this.taskInfo);
    this.tabSectionId = this.hashId;
    this.updateLightBox();
    this.$nextTick(() => {
      setTimeout(() => {
        this.documentReady = true;
      }, 1000);
    });
    console.warn('overviewData', this.overviewData);
    console.warn('overviewIds', this.overviewIds);
    console.warn('allSections', this.allSections);
  },
  computed: {
    hashId() {
      return this.$route.hash.slice(1);
    },
    brandId() {
      return this.$route.params?.brandId;
    },
    taskId() {
      return this.$route.params?.taskId;
    },
    answers() {
      return this.taskInfo?.answers || {};
    },
    dynamicAnswers() {
      return Object.values(this.taskInfo?.answers || {});
    },
    overviewData() {
      return this.dynamicAnswers.filter(e => e.question?.show_in_overview);
    },
    overviewIds() {
      return this.overviewData.map(e => `question_${e.question?.id}`);
    },
    brandInfo() {
      return this.taskInfo.brand || {};
    },
    allSections() {
      return this.overviewData.map((e, i) => ({
        label: e.question?.title,
        key: this.overviewIds[i]
      }));
    }
  },
  watch: {
    editing: {
      async handler(val) {
        setTimeout(this.updateLightBox, 500);
      }
    },
    tabSectionId: {
      async handler(val) {
        if (val) {
          // this.$router.push({ hash: '#' + val });
          this.scrollToTarget(val);
          this.tabSectionId = '';
          // this.tabSectionIdScrolled = '';
        }
      }
    }
  },

  methods: {
    ...(0,pinia/* mapActions */.nv)(growmodo/* default */.Z, ['getSingleTask']),
    updateLightBox() {
      this.lightboxImages = [];
      const lightboxElems = document.querySelectorAll('.with-lightbox');
      lightboxElems.forEach((e, i) => {
        let img = e.querySelector('img');
        this.lightboxImages.push({
          src: img.src,
          title: img.title,
          alt: img.alt
        });
        e.onclick = () => {
          this.lightboxIndex = i;
          this.showLightBox = true;
        };
      });
    },
    scrollToTarget(targetId) {
      getEl(targetId)?.scrollIntoView?.({
        block: 'start',
        inline: 'nearest',
        behavior: 'smooth'
      });
    },
    clickScrollEvent(targetId, copy = true) {
      this.tabSectionId = targetId;
      // Copy URL to Clipboard
      if (copy) {
        (0,copy_to_clipboard/* default */.Z)(window.location.origin + this.$route.fullPath + '#' + targetId);
        this.$q.notify({
          icon: 'icon-check-circle-broken',
          message: 'Anchor has been copied to clipboard.',
          timeout: 500
        });
      }
    },
    scrollHandlerOrig(scroll) {
      this.tabSectionIdScrolled = '';
      let selectedKey = '';
      this.allSections.map(e => e.key).reverse().forEach(key => {
        const el = getEl(key),
          offsetTop = el?.offsetTop + 25,
          top = scroll?.position?.top;
        if (top > offsetTop && !selectedKey) {
          selectedKey = key;
        }
      });
      this.tabSectionIdScrolled = selectedKey;
    }
  }
}));
;// CONCATENATED MODULE: ./src/pages/Brands/TaskOverview.vue?vue&type=script&lang=js
 
// EXTERNAL MODULE: ./node_modules/vue-loader/dist/exportHelper.js
var exportHelper = __webpack_require__(11639);
// EXTERNAL MODULE: ./node_modules/quasar/src/components/page/QPage.js
var QPage = __webpack_require__(69885);
// EXTERNAL MODULE: ./node_modules/quasar/src/components/card/QCard.js
var QCard = __webpack_require__(44458);
// EXTERNAL MODULE: ./node_modules/quasar/src/components/avatar/QAvatar.js
var QAvatar = __webpack_require__(61357);
// EXTERNAL MODULE: ./node_modules/quasar/src/components/icon/QIcon.js
var QIcon = __webpack_require__(22857);
// EXTERNAL MODULE: ./node_modules/quasar/src/components/breadcrumbs/QBreadcrumbs.js
var QBreadcrumbs = __webpack_require__(72605);
// EXTERNAL MODULE: ./node_modules/quasar/src/components/breadcrumbs/QBreadcrumbsEl.js
var QBreadcrumbsEl = __webpack_require__(28052);
// EXTERNAL MODULE: ./node_modules/quasar/src/components/badge/QBadge.js
var QBadge = __webpack_require__(20990);
// EXTERNAL MODULE: ./node_modules/quasar/src/components/splitter/QSplitter.js
var QSplitter = __webpack_require__(7498);
// EXTERNAL MODULE: ./node_modules/quasar/src/components/btn/QBtn.js
var QBtn = __webpack_require__(68879);
// EXTERNAL MODULE: ./node_modules/quasar/src/components/card/QCardSection.js
var QCardSection = __webpack_require__(63190);
// EXTERNAL MODULE: ./node_modules/quasar/src/components/space/QSpace.js
var QSpace = __webpack_require__(90136);
// EXTERNAL MODULE: ./node_modules/quasar/src/components/input/QInput.js + 2 modules
var QInput = __webpack_require__(66611);
// EXTERNAL MODULE: ./node_modules/quasar/src/components/editor/QEditor.js + 3 modules
var QEditor = __webpack_require__(10424);
// EXTERNAL MODULE: ./node_modules/quasar/src/components/video/QVideo.js
var QVideo = __webpack_require__(31005);
// EXTERNAL MODULE: ./node_modules/quasar/src/components/img/QImg.js
var QImg = __webpack_require__(91487);
// EXTERNAL MODULE: ./node_modules/quasar/src/components/scroll-observer/QScrollObserver.js
var QScrollObserver = __webpack_require__(71868);
// EXTERNAL MODULE: ./node_modules/quasar/src/directives/Ripple.js
var Ripple = __webpack_require__(51722);
// EXTERNAL MODULE: ./node_modules/@quasar/app-webpack/lib/webpack/runtime.auto-import.js
var runtime_auto_import = __webpack_require__(69984);
var runtime_auto_import_default = /*#__PURE__*/__webpack_require__.n(runtime_auto_import);
;// CONCATENATED MODULE: ./src/pages/Brands/TaskOverview.vue




;
const __exports__ = /*#__PURE__*/(0,exportHelper/* default */.Z)(TaskOverviewvue_type_script_lang_js, [['render',render]])

/* harmony default export */ const TaskOverview = (__exports__);
;
















runtime_auto_import_default()(TaskOverviewvue_type_script_lang_js, 'components', {QPage: QPage/* default */.Z,QCard: QCard/* default */.Z,QAvatar: QAvatar/* default */.Z,QIcon: QIcon/* default */.Z,QBreadcrumbs: QBreadcrumbs/* default */.Z,QBreadcrumbsEl: QBreadcrumbsEl/* default */.Z,QBadge: QBadge/* default */.Z,QSplitter: QSplitter/* default */.Z,QBtn: QBtn/* default */.Z,QCardSection: QCardSection/* default */.Z,QSpace: QSpace/* default */.Z,QInput: QInput/* default */.Z,QEditor: QEditor/* default */.Z,QVideo: QVideo/* default */.Z,QImg: QImg/* default */.Z,QScrollObserver: QScrollObserver/* default */.Z});runtime_auto_import_default()(TaskOverviewvue_type_script_lang_js, 'directives', {Ripple: Ripple/* default */.Z});


/***/ })

}]);
//# sourceMappingURL=163.513844d7.js.map