"use strict";(globalThis["webpackChunkgrowmodo_hub"]=globalThis["webpackChunkgrowmodo_hub"]||[]).push([[806],{4806:(e,s,t)=>{t.r(s),t.d(s,{default:()=>oe});t(702);var l=t(9835),a=t(6970);const o={class:"font-medium text-h5"},r=["onClick"],i=(0,l._)("div",{class:"q-pt-md"},[(0,l._)("span",{class:"text-secondary font-medium"},"Click to upload"),(0,l.Uk)(" or drag and drop ")],-1),n=(0,l._)("div",null,"SVG, PNG, JPG or GIF (max. 5MB)",-1),c=["src"],d=(0,l.Uk)(" Attached files "),m=(0,l._)("div",{class:"text-body2 font-normal color-primary2 q-pt-xs"}," Files and assets that have been attached to this project. ",-1),p={class:"col-12 col-sm-6"},u=(0,l._)("span",{class:"q-pl-sm text-body2 font-medium"},"View All",-1),g=(0,l._)("span",{class:"q-pl-sm text-body2 font-medium"},"Your Files",-1),f=(0,l._)("span",{class:"q-pl-sm text-body2 font-medium"},"Shared Files",-1),y={class:"col-12 col-sm-6"},_={class:"text-body2 font-medium color-primary2"},w={class:"q-gutter-sm text-right"},h={key:0,class:"q-py-md row full-width items-center justify-center q-col-gutter-sm q-virtual-scroll--skip"},b={class:"q-py-md row full-width items-center justify-between q-col-gutter-sm q-virtual-scroll--skip"},x=(0,l._)("span",{class:"q-pl-sm"},"Previous",-1),q=(0,l._)("span",{class:"q-pr-sm"},"Next",-1),v={class:"q-py-md full-width row flex-center color-primary2 q-gutter-sm"},k={class:"text-body2 color-primary2 font-medium"};function W(e,s,t,W,C,F){const Z=(0,l.up)("q-toolbar-title"),z=(0,l.up)("q-toolbar"),Q=(0,l.up)("q-card"),U=(0,l.up)("q-uploader-add-trigger"),$=(0,l.up)("CardIconBox"),j=(0,l.up)("q-item-label"),I=(0,l.up)("q-item-section"),P=(0,l.up)("q-btn"),S=(0,l.up)("q-item"),Y=(0,l.up)("q-list"),V=(0,l.up)("q-uploader"),T=(0,l.up)("q-card-section"),D=(0,l.up)("q-separator"),L=(0,l.up)("q-btn-group"),M=(0,l.up)("q-icon"),O=(0,l.up)("q-input"),A=(0,l.up)("q-th"),B=(0,l.up)("q-tr"),G=(0,l.up)("q-td"),N=(0,l.up)("q-pagination"),R=(0,l.up)("q-table"),H=(0,l.up)("q-page");return(0,l.wg)(),(0,l.j4)(H,{padding:"",class:"container"},{default:(0,l.w5)((()=>[(0,l.Wm)(Q,{flat:"",bordered:"",class:(0,a.C_)(["rounded",e.$q.screen.gt.sm?"q-px-lg q-py-sm":"q-pa-md"])},{default:(0,l.w5)((()=>[(0,l.Wm)(z,{class:"q-pa-none"},{default:(0,l.w5)((()=>[(0,l.Wm)(Z,null,{default:(0,l.w5)((()=>[(0,l._)("div",o,(0,a.zw)(e.title),1)])),_:1})])),_:1})])),_:1},8,["class"]),(0,l.Wm)(Q,{flat:"",bordered:"",class:"rounded q-my-lg"},{default:(0,l.w5)((()=>[(0,l.Wm)(V,{multiple:"",square:"","auto-upload":"",class:"full-width files-uploader",filter:e.filesChecker,onRejected:e.onRejected,"max-file-size":"5000000"},{header:(0,l.w5)((e=>[e.canAddFiles&&!e.isUploading?((0,l.wg)(),(0,l.iD)("div",{key:0,class:"bg-white text-body2 color-primary2 text-center q-py-lg",onClick:e.pickFiles},[(0,l.Wm)(U),(0,l.Wm)($,{icon:"icon-upload-01",iconSize:"sm"}),i,n],8,r)):(0,l.kq)("",!0)])),list:(0,l.w5)((e=>[(0,l.Wm)(Y,{separator:""},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.files,(s=>((0,l.wg)(),(0,l.j4)(S,{key:s.__key},{default:(0,l.w5)((()=>[(0,l.Wm)(I,null,{default:(0,l.w5)((()=>[(0,l.Wm)(j,{class:"full-width ellipsis"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,a.zw)(s.name),1)])),_:2},1024),(0,l.Wm)(j,{caption:""},{default:(0,l.w5)((()=>[(0,l.Uk)(" Status: "+(0,a.zw)(s.__status),1)])),_:2},1024),(0,l.Wm)(j,{caption:""},{default:(0,l.w5)((()=>[(0,l.Uk)((0,a.zw)(s.__sizeLabel)+" / "+(0,a.zw)(s.__progressLabel),1)])),_:2},1024)])),_:2},1024),s.__img?((0,l.wg)(),(0,l.j4)(I,{key:0,thumbnail:"",class:"gt-xs"},{default:(0,l.w5)((()=>[(0,l._)("img",{src:s.__img.src},null,8,c)])),_:2},1024)):(0,l.kq)("",!0),(0,l.Wm)(I,{top:"",side:""},{default:(0,l.w5)((()=>[(0,l.Wm)(P,{class:"gt-xs",size:"12px",flat:"",dense:"",round:"",icon:"icon-x-close",onClick:t=>e.removeFile(s)},null,8,["onClick"])])),_:2},1024)])),_:2},1024)))),128))])),_:2},1024)])),_:1},8,["filter","onRejected"])])),_:1}),(0,l.Wm)(Q,{flat:"",bordered:""},{default:(0,l.w5)((()=>[(0,l.Wm)(T,{class:(0,a.C_)(e.$q.screen.gt.sm?"q-px-lg q-py-lg":"q-pa-md")},{default:(0,l.w5)((()=>[(0,l.Wm)(z,{class:"text-primary q-pa-none"},{default:(0,l.w5)((()=>[(0,l.Wm)(Z,{class:"text-h6 font-medium"},{default:(0,l.w5)((()=>[d,m])),_:1})])),_:1})])),_:1},8,["class"]),(0,l.Wm)(D),(0,l.Wm)(T,{class:(0,a.C_)([e.$q.screen.gt.sm?"q-px-lg":"q-px-md","row full-width items-center justify-between"])},{default:(0,l.w5)((()=>[(0,l._)("div",p,[(0,l.Wm)(L,{spread:e.$q.screen.sm||e.$q.screen.lt.md,class:"rounded no-shadow border-add"},{default:(0,l.w5)((()=>[(0,l.Wm)(P,{flat:"","no-caps":"",size:"16px",class:(0,a.C_)(["hover-text-secondary",""===e.filesFrom?"bg-accent":""]),color:""===e.filesFrom?"secondary":"primary",onClick:s[0]||(s[0]=s=>e.filesFrom="")},{default:(0,l.w5)((()=>[u])),_:1},8,["color","class"]),(0,l.Wm)(D,{vertical:""}),(0,l.Wm)(P,{flat:"","no-caps":"",size:"16px",class:(0,a.C_)(["hover-text-secondary","me"===e.filesFrom?"bg-accent":""]),color:"me"===e.filesFrom?"secondary":"primary",onClick:s[1]||(s[1]=s=>e.filesFrom="me")},{default:(0,l.w5)((()=>[g])),_:1},8,["color","class"]),(0,l.Wm)(D,{vertical:""}),(0,l.Wm)(P,{flat:"","no-caps":"",size:"16px",class:(0,a.C_)(["hover-text-secondary","shared"===e.filesFrom?"bg-accent":""]),color:"shared"===e.filesFrom?"secondary":"primary",onClick:s[2]||(s[2]=s=>e.filesFrom="shared")},{default:(0,l.w5)((()=>[f])),_:1},8,["color","class"])])),_:1},8,["spread"])]),(0,l._)("div",y,[(0,l.Wm)(O,{dense:"",outlined:"",debounce:"300",placeholder:"Search"},{append:(0,l.w5)((()=>[(0,l.Wm)(M,{name:"icon-search-lg"})])),_:1})])])),_:1},8,["class"]),(0,l.Wm)(D),(0,l.Wm)(R,{filteredSortedRows:"","binary-state-sort":"",rows:e.orgFiles,columns:e.columns,"row-key":"id",color:"primary","rows-per-page-label":"Users per page","no-data-label":"We did not find any users...","rows-per-page-options":[10,20,30,50,50,0],style:{"max-height":"950px"},selection:"multiple",selected:e.selectedFiles,"onUpdate:selected":s[4]||(s[4]=s=>e.selectedFiles=s)},{header:(0,l.w5)((e=>[(0,l.Wm)(B,{class:"bg-color hover-bg-accent"},{default:(0,l.w5)((()=>[(0,l.Wm)(A,{"auto-width":"",class:"cursor-pointer",onClick:s=>e.selected=!e.selected},{default:(0,l.w5)((()=>[(0,l.Wm)(M,{size:"sm",name:e.selected?"icon-check-square":"icon-square",color:e.selected?"secondary":"grey-5"},null,8,["name","color"])])),_:2},1032,["onClick"]),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.cols,((s,t)=>((0,l.wg)(),(0,l.j4)(A,{"auto-width":"",props:e,key:s.name,style:(0,a.j5)([{position:"sticky",top:"0","z-index":"2"},0===t?"padding-left: 24px":""])},{default:(0,l.w5)((()=>[(0,l._)("span",_,(0,a.zw)(s.label),1)])),_:2},1032,["props","style"])))),128)),(0,l.Wm)(A,{"auto-width":"",style:{position:"sticky",top:"0","z-index":"2"},class:"text-right"})])),_:2},1024)])),body:(0,l.w5)((s=>[(0,l.Wm)(B,{props:s,class:(0,a.C_)(["hover-bg-accent",s.selected?"bg-accent":"bg-transparent"])},{default:(0,l.w5)((()=>[(0,l.Wm)(G,{"auto-width":"",class:(0,a.C_)(["cursor-pointer text-center",s.selected?"bg-accent":"bg-transparent"]),onClick:t=>e.toggleSelected(s.selected,s.row)},{default:(0,l.w5)((()=>[(0,l.Wm)(M,{size:"sm",name:s.selected?"icon-check-square":"icon-square",color:s.selected?"secondary":"grey-5"},null,8,["name","color"])])),_:2},1032,["class","onClick"]),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(s.cols,((e,t)=>((0,l.wg)(),(0,l.j4)(G,{key:e.name||t,props:s,class:(0,a.C_)([s.selected?"bg-accent":"bg-transparent","cursor-pointer text-center text-primary q-py-md"]),style:(0,a.j5)(0===t?"padding-left: 24px; padding-top: 18px; padding-bottom: 18px":"")},{default:(0,l.w5)((()=>[(0,l._)("span",{class:(0,a.C_)(["text-body2",0===t?"font-medium":""])},(0,a.zw)(e.value),3)])),_:2},1032,["props","class","style"])))),128)),(0,l.Wm)(G,{class:(0,a.C_)(s.selected?"bg-accent":"bg-transparent"),style:{"padding-right":"24px","padding-top":"18px","padding-bottom":"18px"}},{default:(0,l.w5)((()=>[(0,l._)("div",w,[(0,l.Wm)(P,{flat:"",round:"",size:"12px",color:"grey-7",icon:"icon-trash-01",class:"hover-text-negative hover-bg-accent"}),(0,l.Wm)(P,{flat:"",round:"",size:"12px",color:"grey-7",icon:"icon-edit-01",class:"hover-text-secondary hover-bg-accent"})])])),_:2},1032,["class"])])),_:2},1032,["props","class"])])),bottom:(0,l.w5)((s=>[e.$q.screen.lt.xs||e.$q.screen.xs?((0,l.wg)(),(0,l.iD)("div",h,[(0,l.Wm)(N,{unelevated:"","boundary-numbers":"",modelValue:s.pagination.page,"onUpdate:modelValue":e=>s.pagination.page=e,color:"text-grey-6",class:"color-primary2 rounded","active-color":"grey-2","active-text-color":"primary",max:s.pagesNumber,"max-pages":6},null,8,["modelValue","onUpdate:modelValue","max"])])):(0,l.kq)("",!0),(0,l._)("div",b,[(0,l._)("div",{class:(0,a.C_)(["text-left",e.$q.screen.gt.xs?"col-2":"col-6"])},[(0,l.Wm)(P,{dense:"",outline:"","no-caps":"",disable:s.isFirstPage,onClick:s.prevPage,class:(0,a.C_)(["rounded q-px-md slide-hover",s.isFirstPage?"color-primary2":"text-primary hover-text-secondary"])},{default:(0,l.w5)((()=>[(0,l.Wm)(M,{size:"xs",name:"icon-arrow-narrow-left",class:(0,a.C_)(s.isFirstPage?"":"slide-hover-right-md")},null,8,["class"]),x])),_:2},1032,["disable","onClick","class"])],2),e.$q.screen.gt.xs?((0,l.wg)(),(0,l.j4)(N,{key:0,unelevated:"","boundary-numbers":"",modelValue:s.pagination.page,"onUpdate:modelValue":e=>s.pagination.page=e,color:"text-grey-6",class:"color-primary2 rounded","active-color":"grey-2","active-text-color":"primary",max:s.pagesNumber,"max-pages":6},null,8,["modelValue","onUpdate:modelValue","max"])):(0,l.kq)("",!0),(0,l._)("div",{class:(0,a.C_)(["text-right",e.$q.screen.gt.xs?"col-2":"col-6"])},[(0,l.Wm)(P,{dense:"",outline:"","no-caps":"",disable:s.isLastPage,onClick:s.nextPage,class:(0,a.C_)(["rounded q-px-md slide-hover",s.isLastPage?"color-primary2":"text-primary hover-text-secondary"])},{default:(0,l.w5)((()=>[q,(0,l.Wm)(M,{size:"xs",name:"icon-arrow-narrow-right",class:(0,a.C_)(s.isLastPage?"":"slide-hover-left-md")},null,8,["class"])])),_:2},1032,["disable","onClick","class"])],2)])])),"no-data":(0,l.w5)((({icon:t,message:o,filter:r})=>[(0,l._)("div",v,[(0,l.Wm)(M,{size:"sm",color:"negative",name:r?"icon-filter-funnel-01":t},null,8,["name"]),(0,l._)("span",k,(0,a.zw)(o),1),(0,l._)("span",{class:"text-body2 color-primary2 font-medium cursor-pointer hover-text-secondary",onClick:s[3]||(s[3]=(...s)=>e.inviteUser&&e.inviteUser(...s))},"Invite Now!")])])),_:1},8,["rows","columns","selected"])])),_:1})])),_:1})}t(6727);var C=t(5548),F=t(1809),Z=t(7838),z=t(4376),Q=t(321);const{humanStorageSize:U}=Q.ZP,$=(0,l.aZ)({name:"FilesPage",components:{CardIconBox:C.Z},data(){return{search_outlined:!1,title:"Files and Assets",searchQuery:"",filesFrom:"",selectedFiles:[],columns:[{name:"filename",required:!0,label:"Filename",align:"left",field:e=>e.filename,format:e=>`${e}`,sortable:!0},{name:"filesize",label:"Filesize",align:"left",field:e=>e.filesize,format:e=>`${U(e)}`,sortable:!0,sort:(e,s)=>parseInt(e,10)-parseInt(s,10)},{name:"date_uploaded",label:"Date uploaded",align:"left",field:e=>e.date_uploaded,format:e=>`${z.ZP.formatDate(e,"MMM d, YYYY")}`,sortable:!0,sort:(e,s)=>parseInt(e,10)-parseInt(s,10)},{name:"last_updated",label:"Last updated",align:"left",field:e=>e.last_updated,format:e=>`${z.ZP.formatDate(e,"MMM d, YYYY")}`,sortable:!0,sort:(e,s)=>parseInt(e,10)-parseInt(s,10)},{name:"uploaded_by",label:"Uploaded by",align:"left",field:e=>e.uploaded_by,format:e=>`${this.selectedOrgUsers[e].firstname} ${this.selectedOrgUsers[e].lastname}`,sortable:!0,sort:(e,s)=>parseInt(e,10)-parseInt(s,10)}]}},async mounted(){this.$root.setMeta({title:this.title})},computed:{...(0,F.rn)(Z.Z,["selectedOrgFiles","selectedOrgUsers"]),orgFiles(){return Object.values(this.selectedOrgFiles)}},watch:{selectedFiles:{async handler(e){console.log("selectedFiles Changed:",e)},deep:!0}},methods:{filesChecker(e,s=["image/svg+xml","image/png","image/jpeg","image/gif"]){return e.filter((e=>{let t=s.includes(e.type);return this.$q.notify({message:"Uploading: "+e.name,spinner:!0}),t}))},onRejected(e){this.$q.notify({type:"negative",message:`${e.length} file(s) did not pass validation constraints`})},toggleSelected(e,s){e?this.selectedFiles.splice(this.selectedFiles.indexOf(s),1):this.selectedFiles.push(s)}}});var j=t(1639),I=t(9885),P=t(4458),S=t(1663),Y=t(1973),V=t(7534),T=t(6246),D=t(3246),L=t(490),M=t(1233),O=t(3115),A=t(4455),B=t(3190),G=t(926),N=t(7236),R=t(6611),H=t(2857),K=t(1450),J=t(3532),E=t(1682),X=t(7220),ee=t(2482),se=t(996),te=t(9984),le=t.n(te);const ae=(0,j.Z)($,[["render",W]]),oe=ae;le()($,"components",{QPage:I.Z,QCard:P.Z,QToolbar:S.Z,QToolbarTitle:Y.Z,QUploader:V.Z,QUploaderAddTrigger:T.Z,QList:D.Z,QItem:L.Z,QItemSection:M.Z,QItemLabel:O.Z,QBtn:A.Z,QCardSection:B.Z,QSeparator:G.Z,QBtnGroup:N.Z,QInput:R.Z,QIcon:H.Z,QTable:K.Z,QTr:J.Z,QTh:E.Z,QTd:X.Z,QVirtualScroll:ee.Z,QPagination:se.Z})}}]);